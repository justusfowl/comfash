<ion-header>

  <ion-navbar class="nav-header">
    <ion-buttons start>
        <button ion-button icon-only menuToggle >
          <ion-icon name="menu"></ion-icon>
        </button>

      </ion-buttons>

    <ion-title >{{ 'LIST_MASTER_TITLE' | translate }}</ion-title>

    <ion-buttons end>

      <button class="headerBtn" ion-button icon-only (click)="toNotification()" [disabled]='msg.isNotificationDisabled()' >
        <div class="cnt-new-notifications"> {{msg.newMessages.length}}</div>   
          <ion-icon name="chatboxes" ></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>

</ion-header>

<ion-content>
  
  <ion-refresher (ionRefresh)="api.getCollections(($event.complete()))">
      <ion-refresher-content
      pullingIcon="arrow-dropdown"
      pullingText="Update MyRoom"
      refreshingSpinner="circles"
      refreshingText="Refreshing...">
    </ion-refresher-content>
  </ion-refresher>


  <ion-fab class="fab-button left" >
      <button ion-fab class="swipe-btn" (click)="addItem()">
          <ion-icon class="swipe-icon" name="add"></ion-icon>
        </button>
    </ion-fab>


  <ion-fab class="fab-button right" >
    <button ion-fab class="swipe-btn" [disabled]="api.getSelectedCollectionId().isSelected" (click)="captureToCollection()">
        <ion-icon class="swipe-icon" name="videocam"></ion-icon>
      </button>
  </ion-fab>
  

   <ion-list>
    <ion-item-sliding #slideItem *ngFor="let item of api.collections">
      <ion-item>
        <div class="session-tile" [style.backgroundImage]="'url(' + config.getHostBase() + item.getThumbnail() + ')'" (click)="openItem(item)">

            <div id="flag_{{item._id}}" class="flag-compare" [class.active]="item.getId() === api.getSelectedCollectionId().selectedId">
                <ion-icon id="flag-icon_{{item._id}}" name="camera" class="photo-tile-details-icon flag-icon" [class.active]="item.getId() === api.getSelectedCollectionId().selectedId" ></ion-icon>
            </div>

          <div class="session-tile-details" >

            <ion-grid>
              <ion-row class="session-tile-row" >
                <ion-col>
                    <ion-icon name="unlock" [hidden]="!item.getAccess().public" class="session-tile-details-icon"></ion-icon>
                    <font class="cntFigure">
                        {{item.collectionTitle}}
                    </font>
                </ion-col>
                <ion-col>
                  <div class="session-tile-info">
                      <font class="cntFigure">
                          {{item.getNoSessions()}}
                      </font>
                      <ion-icon name="photos" class="session-tile-details-icon"></ion-icon>
                      <font class="cntFigure">
                          {{item.getNoComments()}}
                      </font>
                      <ion-icon name="text" class="session-tile-details-icon"></ion-icon>
                  </div>
                </ion-col>
              </ion-row>
            </ion-grid>
          </div>
        </div>
    </ion-item>

    <ion-item-options side="right">
      <button class="swipe-btn" ion-button (click)="deleteCollection(item, slideItem)">
        <ion-icon class="swipe-icon" name="trash"></ion-icon>
        DELETE
      </button>
    </ion-item-options>

    <ion-item-options side="left">
        <button class="swipe-btn" ion-button (click)="quickSelectCapture(item, slideItem)">
          <ion-icon class="swipe-icon" name="camera"></ion-icon>
          SELECT
        </button>
    </ion-item-options>


    </ion-item-sliding>
  </ion-list>



  <!--
  <ion-list>
    <ion-item-sliding *ngFor="let item of currentItems">
      <button ion-item (click)="openItem(item)">
        <ion-avatar item-start>
          <img [src]="item.profilePic" />
        </ion-avatar>
        <h2>{{item.name}}</h2>
        <p>{{item.about}}</p>
        <ion-note item-end *ngIf="item.note">{{item.note}}</ion-note>
      </button>

      <ion-item-options>
        <button ion-button color="danger" (click)="deleteItem(item)">
          {{ 'DELETE_BUTTON' | translate }}
        </button>
      </ion-item-options>
    </ion-item-sliding>
  </ion-list>
-->
</ion-content>